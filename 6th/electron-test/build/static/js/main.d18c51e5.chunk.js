(this["webpackJsonpelectron-test"]=this["webpackJsonpelectron-test"]||[]).push([[0],{119:function(e,t,n){e.exports=n(214)},124:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},203:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"taskReducer1",(function(){return E})),n.d(a,"taskReducer2",(function(){return v})),n.d(a,"filterSelect",(function(){return k}));var r=n(0),c=n.n(r),i=n(3),l=n.n(i);n(124),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(30),s=function(e){return{type:"TASK/Selected",id:e}},u=n(56),d="\u5168\u90e8",f="\u5df2\u5b8c\u6210",m="\u672a\u5b8c\u6210",p={DISPLAY:"\u663e\u793a",EDIT:"\u7f16\u8f91"};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(e,t){switch(t.type){case"TASK/Add":for(var n=JSON.parse(JSON.stringify(e)),a=1,r=0;r<n.length;r++)if(n[r].taskId===t.selected)for(var c in t.task)n[r][c]=t.task[c],a=0;return a&&n.push({parentId:t.id,taskId:Date.parse("".concat(new Date)),title:t.task.title,time:t.task.time,content:t.task.content,done:!1}),n;case"TASK/Remove":return e.filter((function(e){return e.taskId!==t.id}));case"TASK/Toggle":return e.map((function(e){return e.taskId===t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{done:t.done}):e}));default:return e}},v=function(e,t){switch(t.type){case"TASK/Selected":return t.id;default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FilterSelected":return{name:t.filter};default:return e}},y=n(37),g=n(217),b=n(57),O=n.n(b),S=function(e){Object(y.a)(e);var t=Object(r.useContext)(Y),n=t.state,a=t.dispatch,i=function(e,t,n){for(var a=[],r=0;r<t.length;r++)t[r].parentId===e&&a.push(t[r]);switch(n){case d:return a;case m:return a.filter((function(e){return!e.done}));case f:return a.filter((function(e){return e.done}));default:throw new Error("unsupported filter")}}(n.selected,n.task,n.filter.name),l={};i.forEach((function(e){l[e.time]||(l[e.time]=[]),l[e.time].push(e)}));var o=[];for(var u in l)o.push(l[u]);return c.a.createElement(g.a,{mode:"inline"},o.map((function(e){return c.a.createElement(O.a,{title:e[0].time,key:e[0].time},e.map((function(e){return c.a.createElement(g.a.Item,{key:e.taskId,style:e.done?{backgroundColor:"#EBFFCC"}:{backgroundColor:"#e6f7ff"},onClick:function(){return a(s(e.taskId))}},e.title)})))})))},C=n(219),j=function(e){Object(y.a)(e);var t=Object(r.useContext)(Y).dispatch,n=function(e){t({type:"FilterSelected",filter:e})};return c.a.createElement("div",{id:"list1"},c.a.createElement(C.a.Group,{size:"middle",buttonStyle:"solid",defaultValue:"a"},c.a.createElement(C.a.Button,{value:"a",onClick:function(){return n(d)}},d),c.a.createElement(C.a.Button,{value:"b",onClick:function(){return n(m)}},m),c.a.createElement(C.a.Button,{value:"c",onClick:function(){return n(f)}},f)))},w=(n(187),function(e){Object(y.a)(e);var t=Object(r.useContext)(Y),n=t.state,a=t.dispatch;return c.a.createElement(g.a,{id:"task"},c.a.createElement(j,null),c.a.createElement(S,null),c.a.createElement(g.a.Item,{onClick:function(){return a({type:"TASK/Remove",id:n.selectedTask})},style:{position:"fixed",bottom:"40px",width:"206px",borderTop:"1px solid #f0f0f0"}},"\u5220\u9664\u4efb\u52a1"),c.a.createElement(g.a.Item,{style:{position:"fixed",bottom:"0px",width:"206px",borderTop:"1px solid #f0f0f0"},onClick:function(){return n.selected||0===n.selected?(a(s(null)),a({type:"Content/edit"})):[]}},"\u6dfb\u52a0\u4efb\u52a1"))}),N="Content/display",I="Content/edit";var T=function(){return{type:N}},x=function(e,t){return{type:"TASK/Toggle",id:e,done:t}},P=(n(188),n(215)),D=n(23),A=n(218);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var B=function(e,t){for(var n,a=0;a<t.length;a++)t[a].taskId===e&&(n=t[a]);return n},J=function(){var e=Object(r.useContext)(Y),t=e.state,n=e.dispatch,a=[B(t.selectedTask,t.task),t.taskState,t.selectedTask,t.selected],i=a[0],l=a[1],s=a[2],d=a[3],f=Object(r.useState)(i?{title:i.title,time:i.time,content:i.content}:{title:"\u7a7a",time:"1970-01-01",content:"\u7a7a"}),m=Object(o.a)(f,2),h=m[0],E=m[1];console.log(h);var v=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);n[t]=e.target.value,E(n)};return c.a.createElement("div",{className:"content"},c.a.createElement(P.a,{style:{backgroundColor:"white",height:"100%"}},c.a.createElement(P.a.Header,{className:"contentHeader"},l===p.DISPLAY?c.a.createElement("div",null,c.a.createElement("span",{className:"taskNameTitle"},h.title),c.a.createElement("span",{className:"taskNameButtonInDisplay"},c.a.createElement(D.a,{onClick:function(){return s||0===s?n({type:I}):[]}},"\u7f16\u8f91"),c.a.createElement(D.a,{onClick:function(){return n(x(s,!0))}},"\u5b8c\u6210"),c.a.createElement(D.a,{onClick:function(){return n(x(s,!1))}},"\u53d6\u6d88\u5b8c\u6210"))):c.a.createElement("div",{className:"taskNameInEdit"},c.a.createElement(A.a,{className:"taskNameInEditInput",type:"text",placeholder:"\u53ef\u8f93\u5165\u5341\u4e2a\u5b57\u7b26\u4ee5\u5185",onChange:function(e){return v(e,"title")},defaultValue:h.title,style:{width:"auto"}}),c.a.createElement("span",null,c.a.createElement(D.a,{onClick:function(){return n(T())}},"\u53d6\u6d88"),c.a.createElement(D.a,{onClick:function(){!function(e,t,a){if(h.title.length>10||-1===h.time.search(/^\d{4}-\d{2}-\d{2}$/)||0===h.content.length)return console.log("\u683c\u5f0f\u4e0d\u7b26 \u63d0\u4ea4\u5931\u8d25"),!1;n(function(e,t,n){return{type:"TASK/Add",task:e,id:t,selected:n}}(h,t,a)),n(T())}(0,d,s)}},"\u786e\u8ba4")))),c.a.createElement(P.a.Header,{className:"contentHeader"},l===p.DISPLAY?c.a.createElement("span",{className:"taskNameTitle"},"\u4efb\u52a1\u65e5\u671f\uff1a",c.a.createElement("span",null,h.time)):c.a.createElement(A.a,{className:"taskTime",placeholder:"yyyy-mm-dd",onChange:function(e){return v(e,"time")},defaultValue:h.time,addonBefore:"\u4efb\u52a1\u65e5\u671f\uff1a"})),c.a.createElement(P.a.Content,null,l===p.DISPLAY?c.a.createElement("div",{className:"taskNameTitle"},h.content):c.a.createElement(A.a.TextArea,{autoSize:{minRows:10},placeholder:"\u4efb\u52a1\u5185\u5bb9",onChange:function(e){return v(e,"content")},defaultValue:h.content}))))},K=function(e){return JSON.parse(JSON.stringify(e))},H=JSON.parse(localStorage.getItem("state"))||{list:[{id:0,catName:"\u9ed8\u8ba4\u5206\u7c7b",list:[{id:1,catName:"\u9ed8\u8ba4\u5206\u7c7b\u5b50\u5206\u7c7b1",list:[]},{id:2,catName:"\u9ed8\u8ba4\u5206\u7c7b\u5b50\u5206\u7c7b2",list:[]}]}],selected:0,selectedTask:0,filter:{name:"\u5168\u90e8"},task:[{parentId:0,taskId:0,title:"\u9ed8\u8ba4\u5206\u7c7b\u793a\u4f8b",time:"1970-01-01",done:!0,content:"\u4efb\u52a1\u5185\u5bb9"}],taskState:"\u663e\u793a"},L=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a={};return Object.keys(e).forEach((function(r){var c=t[r];a[r]=e[r](c,n)})),a}}({list:function(e,t){switch(t.type){case"Add":var n=K(e);return t.selectedId||0===t.selectedId?function e(n){for(var a=0;a<n.length;a++)n[a].id===t.selectedId&&n[a].list.push({id:t.id,catName:t.catName,list:[]}),0!==n[a].list.length&&e(n[a].list)}(n):n.push({id:t.id,catName:t.catName,list:[]}),n;case"Remove":var a=K(e);return function e(n){for(var a=0;a<n.length;a++)0!==n[a].list.length&&e(n[a].list),n[a].id===t.id&&n.splice(a,1)}(a),a;default:return e}},selected:function(e,t){return"Selected"===t.type?t.id:e},filter:a.filterSelect,task:a.taskReducer1,selectedTask:a.taskReducer2,taskState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case N:return p.DISPLAY;case I:return p.EDIT;default:return e}}}),Y=Object(r.createContext)({});var F=function(e,t){return{type:"Add",id:Date.parse("".concat(new Date)),catName:e,selectedId:t}},V=function(e){return{type:"Selected",id:e}},G=function(){var e=Object(r.useContext)(Y),t=e.state,n=e.dispatch,a=t.list;a.sort((function(e,t){return e.id-t.id}));return c.a.createElement("div",{className:"ul1"},c.a.createElement(g.a,{mode:"inline"},function e(t){return t.map((function(t){return 0===t.list.length?c.a.createElement(g.a.Item,{className:"listClass",id:"".concat(t.id),key:t.id,onClick:function(){return n(V(t.id))}},t.catName):c.a.createElement(O.a,{className:"listClass","data-id":"".concat(t.id),key:t.id,title:c.a.createElement("span",null,t.catName),onTitleClick:function(){return n(V(t.id))}},e(t.list))}))}(a)))},z=(n(203),n(216)),W=function(){var e=Object(r.useContext)(Y),t=e.state,n=e.dispatch,a=t.selected,i=Object(r.useState)(!1),l=Object(o.a)(i,2),s=l[0],u=l[1],d=Object(r.useState)(""),f=Object(o.a)(d,2),m=f[0],p=f[1];var h=function(e,t){if(t)return e.task.length;var n=0;return e.task.forEach((function(e){n+=e.done?0:1})),n};return c.a.createElement("div",{className:"list"},c.a.createElement(z.a,{title:"taskModal",visible:s,onOk:function(e){m&&(console.log(a),n(F(m,a))),u(!1)},onCancel:function(e){u(!1)}},c.a.createElement("p",null,"\u65b0\u5efa\u5206\u7c7b"),c.a.createElement(A.a,{onChange:function(e){return p(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"})),c.a.createElement(g.a,{id:"list"},c.a.createElement(g.a.ItemGroup,{title:c.a.createElement("span",null,"\u6240\u6709\u4efb\u52a1 (",h(t,!1),"/",h(t,!0),")")}),c.a.createElement(g.a.ItemGroup,{title:"\u5206\u7c7b\u5217\u8868"}),c.a.createElement(G,null)),c.a.createElement("div",{className:"listDiv"},c.a.createElement(g.a,null,c.a.createElement(g.a.Item,{onClick:function(){return n({type:"Remove",id:t.selected})},style:{width:"199px",borderTop:"1px solid #f0f0f0",position:"relative",top:"4px"}},"\u5220\u9664\u5206\u7c7b"),c.a.createElement(g.a.Item,{onClick:function(){return u(!0)},style:{width:"199px",borderTop:"1px solid #f0f0f0"}},"\u6dfb\u52a0\u5206\u7c7b"))))},$=function(){var e=Object(r.useContext)(Y),t=e.state,n=e.dispatch;return Object(r.useEffect)((function(){return localStorage.setItem("state",JSON.stringify(t)),function(){localStorage.setItem("state",JSON.stringify(t))}})),c.a.createElement("div",{className:"div1"},c.a.createElement(P.a,{style:{minHeight:"100vh"}},c.a.createElement(P.a.Header,{style:{backgroundColor:"white",borderBottom:"1px solid #f0f0f0"}},"To do list"),c.a.createElement(P.a,{style:{backgroundColor:"white"}},c.a.createElement(P.a.Sider,{theme:"light",style:{borderRight:"1px solid #f0f0f0"},onClick:function(e){return function(e,t){"list"!==e.target.className&&"list"!==e.target.id||n(V(t))}(e,null)}},c.a.createElement(W,null)),c.a.createElement(P.a.Sider,{theme:"light",width:"auto",style:{borderRight:"1px solid #f0f0f0"}},c.a.createElement(w,null)),c.a.createElement(P.a.Content,{style:{position:"relative"}},c.a.createElement(J,null)))))};l.a.render(c.a.createElement((function(e){var t=Object(r.useReducer)(L,H),n=Object(o.a)(t,2),a=n[0],i=n[1];return c.a.createElement(Y.Provider,{value:{state:a,dispatch:i}},e.children)}),null,c.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[119,1,2]]]);
//# sourceMappingURL=main.d18c51e5.chunk.js.map