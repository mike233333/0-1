!function a(i,l,s){function c(e,t){if(!l[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[e]={exports:{}};i[e][0].call(o.exports,function(t){return c(i[e][1][t]||t)},o,o.exports,a,i,l,s)}return l[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(d,t,e){!function a(i,l,s){function c(e,t){if(!l[e]){if(!i[e]){var n="function"==typeof d&&d;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[e]={exports:{}};i[e][0].call(o.exports,function(t){return c(i[e][1][t]||t)},o,o.exports,a,i,l,s)}return l[e].exports}for(var u="function"==typeof d&&d,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Data=i;document.getElementById("taskName"),document.getElementById("taskDate"),document.getElementById("taskContent");var r=document.getElementById("taskName2"),o=document.getElementById("taskDate2"),a=document.getElementById("taskContent2");document.querySelector("#content"),document.querySelector("#contents");function i(t){this.data=t}i.prototype.addCat=function(t,e){var n=this.data,o=[];t?function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(o=n[r].list),0!==n[r].list.length&&t(e,n[r].list)}(t,n):o=n,o.push(e)},i.prototype.setCatId=function(t){this.catId=t},i.prototype.setTaskId=function(t){this.taskId=t},i.prototype.setList=function(t){var a="",e=document.querySelector(t),i=this;!function t(e){for(var n=e,r=0;r<n.length;r++){var o;o=n==i.data?"<li>\n                            <h1><input type='button' value='X'><a data-id='".concat(n[r].id,"'>").concat(n[r].catName,"<span></span></a></h1>"):"<li>\n                            <h2><input type='button' value='X'><a data-id='".concat(n[r].id,"'>").concat(n[r].catName,"<span></span></a></h2>"),a+=o,0!==n[r].list.length?(a+="<ul class='ul2'>",t(n[r].list),a+="</ul></li>"):a+="</li>"}}(i.data),e.innerHTML=a},i.prototype.delCat=function(t,e){if(0==t)return!1;var o=[],a={};!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(a=(o=n)[r]),0!==n[r].list.length&&t(e,n[r].list)}(t,this.data);for(var n=0;n<o.length;n++)o[n]==a&&o.splice(n,1);e.setList(".ul1"),e.setListener(e),e.setCatId(null)},i.prototype.setTask=function(t,e){var n=document.querySelector(t);n.innerHTML="";var r=this.catId,o=[];!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(o=n[r].task),0!==n[r].list.length&&t(e,n[r].list)}(r,this.data);var a=[];if(0!==(this.taskArr=o).length){for(var i=0;i<o.length;i++){var l=document.createElement("li");l.innerHTML="<input type='button' value='X'><a>".concat(o[i].title,"</a>"),l.setAttribute("task-id",o[i].taskId),l.onclick=function(){document.querySelector(".hover2")&&document.querySelector(".hover2").classList.remove("hover2"),this.classList.add("hover2"),e.setTaskId(this.getAttribute("task-id")),e.showTask("#content",e)},l.firstElementChild.onclick=function(){e.delTask(r,this.parentElement.getAttribute("task-id"),e)},1==o[i].done&&l.classList.add("donetrue");for(var s=!0,c=0;c<a.length;c++)if(a[c].getAttribute("data-time")==o[i].time){a[c].appendChild(l),s=!1;break}if(s){var u=document.createElement("ul");u.classList.add("ul3"),u.innerHTML="<span>".concat(o[i].time,"</span>"),u.setAttribute("data-time",o[i].time),u.appendChild(l),a.push(u)}}a.sort(function(t,e){return t.firstElementChild.innerHTML.replace(/-/g,"")-e.firstElementChild.innerHTML.replace(/-/g,"")}),a.forEach(function(t){n.appendChild(t)})}else n.innerHTML="该分类下没有任务"},i.prototype.addTask=function(t,e){var n=this.data,o=[];!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(o=n[r].task),0!==n[r].list.length&&t(e,n[r].list)}(t,n),o.push(e)},i.prototype.showTask=function(t,e){var n=document.querySelector(t),r=e.catId,o=e.taskId,a=[];!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(a=n[r].task),0!==n[r].list.length&&t(e,n[r].list)}(r,this.data);for(var i=0;i<a.length;i++)a[i].taskId==o&&(n.querySelector("#taskName2").innerHTML=a[i].title,n.querySelector("#taskDate2").innerHTML=a[i].time,n.querySelector("#taskContent2").innerHTML=a[i].content)},i.prototype.changeTask=function(t,e,n,r){var o=this.data,a=[];!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(a=n[r].task),0!==n[r].list.length&&t(e,n[r].list)}(t,o);for(var i=0;i<a.length;i++)if(a[i].taskId==e)for(var l in a[i])n[l]&&n[l]!==a[i][l]&&(a[i][l]=n[l]),"boolean"==typeof n[l]&&n[l]!==a[i][l]&&(a[i][l]=n[l]);r.setTask("#list2",r),r.setListener(r);var s=document.querySelectorAll("#list1 li");document.querySelector(".hover3").classList.remove("hover3"),s[0].classList.add("hover3")},i.prototype.delTask=function(t,e,n){if(0==e)return!1;var o=[];!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&(o=n[r].task),0!==n[r].list.length&&t(e,n[r].list)}(t,this.data);for(var r=0;r<o.length;r++)o[r].taskId==e&&o.splice(r,1);n.setTask("#list2",n),n.setListener(n),n.setTaskId(null)},i.prototype.setListener=function(n){document.querySelector(".ul1").querySelectorAll("a").forEach(function(e){e.onclick=function(){document.querySelector(".hover")&&document.querySelector(".hover").classList.remove("hover");var t=e.parentElement.parentElement.querySelector(".ul2");t&&("none"==t.style.display?t.style.display="block":t.style.display="none"),e.classList.add("hover"),n.setCatId(this.getAttribute("data-id")),n.setTask("#list2",n),document.querySelectorAll("#list2 li").forEach(function(t){t.onclick=function(){document.querySelector(".hover2")&&document.querySelector(".hover2").classList.remove("hover2"),t.classList.add("hover2"),n.setTaskId(this.getAttribute("task-id")),n.showTask("#content",n)}})},e.previousElementSibling.onclick=function(){n.delCat(e.getAttribute("data-id"),n)}}),document.getElementById("task1").onclick=function(){event.target==this&&(document.querySelector(".hover")&&document.querySelector(".hover").classList.remove("hover"),n.setCatId(null),n.setTask("#list2",n),function(t,e){[r,o,a].forEach(function(t){t.innerHTML=""})}(0))},n.showCount(),1==document.querySelectorAll(".ul1 a").length&&(document.querySelector(".hover")||document.querySelector(".ul1 a").click(),1==document.querySelectorAll(".ul3 li").length&&document.querySelector(".ul3 li").click())},i.prototype.showCount=function(){var t=document.querySelectorAll(".ul1 a"),e=this.data,n=document.getElementById("countTask"),r=0;t.forEach(function(t){var o=0;!function t(e,n){for(var r=0;r<n.length;r++)n[r].id==e&&function t(e){for(var n=0;n<e.task.length;n++)0==e.task[n].done&&o++;for(var r=0;r<e.list.length;r++)t(e.list[r])}(n[r]),0!==n[r].list.length&&t(e,n[r].list)}(t.getAttribute("data-id"),e),t.firstElementChild.innerHTML="(".concat(o,")"),"ul1"==t.parentElement.parentElement.parentElement.getAttribute("class")&&(r+=o)}),n.innerHTML="(".concat(r,")")}},{}]},{},[1])},{}]},{},[1]);
//# sourceMappingURL=data.js.map
